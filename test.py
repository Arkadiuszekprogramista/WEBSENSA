import datetime
import pytest
from assignment import natural_language


@pytest.mark.parametrize("start_time, reference_time, result", (
        (datetime.datetime(2022, 2, 23, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "cztery miesiące temu o 23:59"),
        (datetime.datetime(2022, 3, 23, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "trzy miesiące temu o 23:59"),
        (datetime.datetime(2022, 4, 23, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "dwa miesiące temu o 23:59"),
        (datetime.datetime(2022, 5, 23, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "miesiąc temu o 23:59"),
        (datetime.datetime(2022, 5, 25, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "25 w zeszłym miesiącu o 23:59"),
        (datetime.datetime(2022, 5, 15, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "15 w zeszłym miesiącu o 23:59"),
        (datetime.datetime(2022, 6, 6, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "6 czerwca o 23:59"),
        (datetime.datetime(2022, 6, 13, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "tydzień temu w poniedziałek o 23:59"),
        (datetime.datetime(2022, 6, 19, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "w zeszłą niedziele o 23:59"),
        (datetime.datetime(2022, 6, 16, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "tydzień temu o 23:59"),
        (datetime.datetime(2022, 6, 9, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "dwa tygonie temu o 23:59"),
        (datetime.datetime(2022, 6, 2, 23, 59), datetime.datetime(2022, 6, 23, 10, 10),
         "trzy tygonie temu o 23:59"),
        (datetime.datetime(2022, 6, 2, 23, 59), datetime.datetime(2022, 6, 30, 10, 10),
         "cztery tygonie temu o 23:59"),
        (datetime.datetime(2022, 6, 29, 23, 59), datetime.datetime(2022, 6, 30, 10, 10),
         "wczoraj o 23:59"),
        (datetime.datetime(2022, 6, 2, 15, 59), datetime.datetime(2022, 6, 2, 10, 59),
         "za 5 godzin"),
        (datetime.datetime(2022, 6, 2, 16, 29), datetime.datetime(2022, 6, 2, 10, 19),
         "za 6 godzin i 10 min"),
        (datetime.datetime(2022, 6, 2, 16, 19), datetime.datetime(2022, 6, 2, 10, 39),
         "za 5 godzin i 40 min"),
        (datetime.datetime(2022, 6, 2, 13, 19), datetime.datetime(2022, 6, 2, 16, 19),
         "3 godziny temu"),
        (datetime.datetime(2022, 6, 2, 15, 19), datetime.datetime(2022, 6, 2, 16, 19),
         "godzinę temu"),
        (datetime.datetime(2022, 6, 2, 13, 40), datetime.datetime(2022, 6, 2, 16, 10),
         "2 godziny i 30 minut temu"),
        (datetime.datetime(2022, 6, 2, 13, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "3 godziny i 30 minut temu"),
        (datetime.datetime(2022, 6, 2, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "30 minut temu"),
        (datetime.datetime(2022, 6, 2, 16, 50), datetime.datetime(2022, 6, 2, 16, 30),
         "za 20 minut"),
        (datetime.datetime(2022, 6, 3, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "Jutro o godzinie 16:20"),
        (datetime.datetime(2022, 6, 4, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "Pojutrze o godzinie 16:20"),
        (datetime.datetime(2022, 6, 4, 16, 20), datetime.datetime(2022, 6, 1, 16, 50),
         "w sobote o 16:20"),
        (datetime.datetime(2022, 6, 11, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "w przyszłą sobote o 16:20"),
        (datetime.datetime(2022, 6, 10, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "w przyszły piątek o 16:20"),
        (datetime.datetime(2022, 1, 22, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "22 stycznia o 16:20"),
        (datetime.datetime(2022, 6, 9, 16, 20), datetime.datetime(2022, 6, 2, 16, 50),
         "za tydzień o 16:20"),
        (datetime.datetime(2022, 6, 15, 16, 20), datetime.datetime(2022, 6, 1, 16, 50),
         "za dwa tygodnie o 16:20"),
        (datetime.datetime(2022, 6, 22, 16, 20), datetime.datetime(2022, 6, 1, 16, 50),
         "za trzy tygodnie o 16:20"),
        (datetime.datetime(2022, 6, 29, 16, 20), datetime.datetime(2022, 6, 1, 16, 50),
         "za cztery tygodnie o 16:20"),
        (datetime.datetime(2022, 6, 29, 16, 20), datetime.datetime(2022, 5, 29, 16, 50),
         "za miesiąc o 16:20"),
        (datetime.datetime(2022, 6, 29, 16, 20), datetime.datetime(2022, 5, 28, 17, 50),
         "za miesiąc i 23 godziny"),
        (datetime.datetime(2022, 6, 29, 16, 20), datetime.datetime(2022, 5, 28, 16, 50),
         "za miesiąc i niecałe 24 godziny"),
        (datetime.datetime(2022, 6, 28, 16, 20), datetime.datetime(2022, 5, 27, 15, 50),
         "za miesiąc jeden dzien i 1 godzine"),
        (datetime.datetime(2022, 6, 29, 17, 20), datetime.datetime(2022, 5, 28, 15, 50),
         "za miesiąc jeden dzien i 2 godziny"),
        (datetime.datetime(2022, 6, 29, 18, 20), datetime.datetime(2022, 5, 28, 15, 50),
         "za miesiąc jeden dzien i 3 godziny"),
        (datetime.datetime(2022, 6, 29, 19, 20), datetime.datetime(2022, 5, 28, 15, 50),
         "za miesiąc jeden dzien i 4 godziny"),
        (datetime.datetime(2022, 6, 29, 20, 20), datetime.datetime(2022, 5, 28, 15, 50),
         "za miesiąc jeden dzien i 5 godzin"),
        (datetime.datetime(2022, 6, 22, 19, 20), datetime.datetime(2022, 5, 20, 20, 50),
         "za miesiąc 1 dzień i 23 godziny"),
        (datetime.datetime(2022, 6, 23, 19, 20), datetime.datetime(2022, 5, 20, 20, 50),
         "za miesiąc 2 dni i 23 godziny"),
        (datetime.datetime(2022, 6, 23, 18, 20), datetime.datetime(2022, 5, 20, 20, 50),
         "za miesiąc 2 dni i 22 godziny"),
        (datetime.datetime(2022, 6, 23, 21, 20), datetime.datetime(2022, 5, 20, 20, 50),
         "za miesiąc 3 dni i 1 godzine"),
        (datetime.datetime(2022, 6, 23, 23, 20), datetime.datetime(2022, 5, 20, 20, 50),
         "za miesiąc 3 dni i 3 godziny"),
        (datetime.datetime(2022, 6, 23, 21, 20), datetime.datetime(2022, 5, 20, 16, 50),
         "za miesiąc 3 dni i 5 godzin"),
        (datetime.datetime(2022, 6, 27, 21, 20), datetime.datetime(2022, 5, 20, 16, 50),
         "27 czerwca o 21:20"),
        (datetime.datetime(2022, 7, 20, 21, 20), datetime.datetime(2022, 5, 20, 16, 50),
         "za dwa miesiące o 21:20"),
        (datetime.datetime(2022, 8, 20, 21, 20), datetime.datetime(2022, 5, 20, 16, 50),
         "za trzy miesiące o 21:20"),
        (datetime.datetime(2022, 2, 20, 21, 20), datetime.datetime(2022, 7, 20, 16, 50),
         "20 lutego o 21:20"),
        (datetime.datetime(2022, 10, 20, 21, 20), datetime.datetime(2022, 5, 20, 16, 50),
         "20 października o 21:20"),
        (datetime.datetime(2023, 10, 20, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "za rok o 21:20"),
        (datetime.datetime(2023, 11, 20, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "za rok 20 listopada o 21:20"),
        (datetime.datetime(2023, 10, 21, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "za rok i 1 dzień"),
        (datetime.datetime(2023, 10, 21, 11, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "za rok i 19 godzin"),
        (datetime.datetime(2023, 10, 27, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "za rok 27 października o 21:20"),
        (datetime.datetime(2023, 9, 27, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "27 września następnego roku o 21:20"),
        (datetime.datetime(2024, 9, 27, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "27 września 2024 o 21:20"),
        (datetime.datetime(2019, 9, 27, 21, 20), datetime.datetime(2022, 10, 20, 16, 50),
         "27 września 2019 o 21:20"),

))
def test_natural_language(start_time, reference_time, result):
    assert natural_language(start_time, reference_time) == result